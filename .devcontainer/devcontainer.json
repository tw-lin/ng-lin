{
    "name": "ng-lin â€” Angular 20 + Firebase Dev Container",
    "image": "mcr.microsoft.com/vscode/devcontainers/javascript-node:20-bullseye",
    "features": {
        "ghcr.io/devcontainers/features/git": {},
        "ghcr.io/devcontainers/features/docker-in-docker": {}
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "Angular.ng-template",
                "dbaeumer.vscode-eslint",
                "esbenp.prettier-vscode",
                "ms-vscode.vscode-typescript-next",
                "Firebase.firebase-tools",
                "GitHub.copilot",
                "GitHub.codespaces"
            ],
            "settings": {
                "github.copilot.enable": {
                    "*": true
                },
                "github.copilot.autocomplete": {
                    "enable": true,
                    "languages": ["javascript", "typescript", "html", "css"]
                },
                "editor.formatOnSave": true,
                "editor.accessibilitySupport": "on",
                "files.exclude": {
                    "node_modules": true
                }
            }
        }
    },
    "forwardPorts": [
        4200,
        5000,
        5001,
        8080,
        9099,
        4000
    ],
    "postCreateCommand": "bash -lc 'pnpm install 2>/dev/null || npm install'",
    "postStartCommand": "bash -lc 'docker start awesome-copilot 2>/dev/null || docker run -d --name awesome-copilot --restart unless-stopped ghcr.io/microsoft/mcp-dotnet-samples/awesome-copilot:latest && copilot start-mcp --config .vscode/mcp.json && echo \"Dev container ready with Copilot agent!\"'",
    "remoteUser": "vscode",
    "workspaceFolder": "/workspace",
    "containerEnv": {
        "NODE_ENV": "development",
        "COPILOT_AGENT": "true"
    },
    "mounts": [
        "source=node-modules,target=/workspace/node_modules,type=volume"
    ]
}
